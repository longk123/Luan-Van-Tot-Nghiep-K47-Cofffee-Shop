# PhÃ¢n tÃ­ch: PhÃ¢n quyá»n cÃ¡c Role - CÃ³ há»£p lÃ½ khÃ´ng?

## ğŸ“Š Tá»•ng quan cÃ¡c Role hiá»‡n táº¡i

### **1. WAITER (Phá»¥c vá»¥)**
### **2. CASHIER (Thu ngÃ¢n)**
### **3. KITCHEN (Pha cháº¿/Báº¿p)**
### **4. MANAGER (Quáº£n lÃ½)**
### **5. ADMIN (Quáº£n trá»‹ viÃªn)**

---

## ğŸ” PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng Role

### **1. WAITER (Phá»¥c vá»¥)**

#### **âœ… Quyá»n truy cáº­p:**
- âœ… `/dashboard` - Dashboard (táº¡o Ä‘Æ¡n, xem bÃ n)
- âœ… `/waiter/delivery` - Xem Ä‘Æ¡n giao hÃ ng Ä‘Æ°á»£c phÃ¢n cÃ´ng

#### **âœ… Chá»©c nÄƒng cÃ³ thá»ƒ lÃ m:**
- âœ… Táº¡o Ä‘Æ¡n DINE_IN (táº¡i quÃ¡n)
- âœ… Táº¡o Ä‘Æ¡n TAKEAWAY (mang Ä‘i)
- âœ… ThÃªm/sá»­a/xÃ³a mÃ³n trong Ä‘Æ¡n
- âœ… Ãp dá»¥ng khuyáº¿n mÃ£i
- âœ… Xem menu Ä‘á»ƒ tÆ° váº¥n khÃ¡ch
- âœ… Xem Ä‘Æ¡n giao hÃ ng Ä‘Æ°á»£c phÃ¢n cÃ´ng
- âœ… Cáº­p nháº­t tráº¡ng thÃ¡i giao hÃ ng (ASSIGNED â†’ OUT_FOR_DELIVERY â†’ DELIVERED)

#### **âŒ Chá»©c nÄƒng KHÃ”NG thá»ƒ lÃ m:**
- âŒ Thanh toÃ¡n Ä‘Æ¡n (chá»‰ Cashier/Manager)
- âŒ Há»§y Ä‘Æ¡n (chá»‰ Manager/Admin)
- âŒ Táº¡o Ä‘Æ¡n DELIVERY (chá»‰ Customer Portal hoáº·c Cashier)
- âŒ Má»Ÿ/Ä‘Ã³ng ca lÃ m viá»‡c
- âŒ Xem bÃ¡o cÃ¡o, thá»‘ng kÃª
- âŒ Quáº£n lÃ½ menu, inventory, employees

#### **ğŸ“ ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - PhÃ¹ há»£p vá»›i vai trÃ² phá»¥c vá»¥
- âœ… PhÃ¢n cÃ´ng rÃµ rÃ ng: Phá»¥c vá»¥ vs Thanh toÃ¡n
- âš ï¸ **Cáº§n lÆ°u Ã½:** Waiter cáº§n cÃ³ ca Cashier Ä‘ang má»Ÿ má»›i táº¡o Ä‘Æ°á»£c Ä‘Æ¡n

---

### **2. CASHIER (Thu ngÃ¢n)**

#### **âœ… Quyá»n truy cáº­p:**
- âœ… `/dashboard` - Dashboard (táº¡o Ä‘Æ¡n, xem bÃ n)
- âœ… `/pos` - POS page
- âœ… `/takeaway` - Quáº£n lÃ½ Ä‘Æ¡n mang Ä‘i vÃ  giao hÃ ng

#### **âœ… Chá»©c nÄƒng cÃ³ thá»ƒ lÃ m:**
- âœ… Má»Ÿ ca lÃ m viá»‡c (shift)
- âœ… Táº¡o Ä‘Æ¡n DINE_IN, TAKEAWAY, DELIVERY
- âœ… ThÃªm/sá»­a/xÃ³a mÃ³n trong Ä‘Æ¡n
- âœ… **Thanh toÃ¡n Ä‘Æ¡n** (CASH, CARD, ONLINE)
- âœ… Ãp dá»¥ng khuyáº¿n mÃ£i
- âœ… PhÃ¢n cÃ´ng Ä‘Æ¡n giao hÃ ng cho Waiter
- âœ… ÄÃ³ng ca vÃ  xem bÃ¡o cÃ¡o ca
- âœ… Xem Ä‘Æ¡n trong ca cá»§a mÃ¬nh

#### **âŒ Chá»©c nÄƒng KHÃ”NG thá»ƒ lÃ m:**
- âŒ Há»§y Ä‘Æ¡n (chá»‰ Manager/Admin)
- âŒ Quáº£n lÃ½ menu, inventory, employees
- âŒ Xem bÃ¡o cÃ¡o tá»•ng há»£p (chá»‰ Manager/Admin)
- âŒ Quáº£n lÃ½ khu vá»±c, bÃ n

#### **ğŸ“ ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - PhÃ¹ há»£p vá»›i vai trÃ² thu ngÃ¢n
- âœ… Táº­p trung vÃ o bÃ¡n hÃ ng vÃ  thanh toÃ¡n
- âœ… CÃ³ thá»ƒ quáº£n lÃ½ Ä‘Æ¡n mang Ä‘i vÃ  giao hÃ ng

---

### **3. KITCHEN (Pha cháº¿/Báº¿p)**

#### **âœ… Quyá»n truy cáº­p:**
- âœ… `/kitchen` - Kitchen Display System (KDS)

#### **âœ… Chá»©c nÄƒng cÃ³ thá»ƒ lÃ m:**
- âœ… Xem hÃ ng Ä‘á»£i mÃ³n (QUEUED)
- âœ… Báº¯t Ä‘áº§u lÃ m mÃ³n (QUEUED â†’ MAKING)
- âœ… HoÃ n táº¥t mÃ³n (MAKING â†’ DONE)
- âœ… Há»§y mÃ³n (náº¿u cáº§n)
- âœ… Xem lá»‹ch sá»­ mÃ³n Ä‘Ã£ lÃ m
- âœ… Xem thá»‘ng kÃª ca lÃ m viá»‡c (sá»‘ mÃ³n, thá»i gian trung bÃ¬nh)

#### **âŒ Chá»©c nÄƒng KHÃ”NG thá»ƒ lÃ m:**
- âŒ Táº¡o Ä‘Æ¡n
- âŒ Thanh toÃ¡n
- âŒ Xem bÃ¡o cÃ¡o doanh thu
- âŒ Quáº£n lÃ½ menu, inventory
- âŒ Truy cáº­p Dashboard, POS

#### **ğŸ“ ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - PhÃ¹ há»£p vá»›i vai trÃ² pha cháº¿/báº¿p
- âœ… Táº­p trung vÃ o cháº¿ biáº¿n mÃ³n
- âœ… KhÃ´ng bá»‹ phÃ¢n tÃ¢m bá»Ÿi cÃ¡c chá»©c nÄƒng khÃ¡c

---

### **4. MANAGER (Quáº£n lÃ½)**

#### **âœ… Quyá»n truy cáº­p:**
- âœ… `/dashboard` - Dashboard (view only hoáº·c full access náº¿u cÃ³ role Cashier)
- âœ… `/manager` - Manager Dashboard (bÃ¡o cÃ¡o, thá»‘ng kÃª)
- âœ… `/inventory` - Quáº£n lÃ½ kho
- âœ… `/menu-management` - Quáº£n lÃ½ menu
- âœ… `/areas` - Quáº£n lÃ½ khu vá»±c & bÃ n
- âœ… `/employees` - Quáº£n lÃ½ nhÃ¢n viÃªn
- âœ… `/promotion-management` - Quáº£n lÃ½ khuyáº¿n mÃ£i
- âœ… `/pos` - POS (náº¿u cÃ³ role Cashier)
- âœ… `/takeaway` - Quáº£n lÃ½ Ä‘Æ¡n mang Ä‘i (náº¿u cÃ³ role Cashier)
- âœ… `/kitchen` - Xem KDS (náº¿u cÃ³ role Kitchen)
- âœ… `/waiter/delivery` - Xem Ä‘Æ¡n giao hÃ ng

#### **âœ… Chá»©c nÄƒng cÃ³ thá»ƒ lÃ m:**
- âœ… **Táº¥t cáº£ chá»©c nÄƒng cá»§a Cashier** (náº¿u cÃ³ role Cashier)
- âœ… **Táº¥t cáº£ chá»©c nÄƒng cá»§a Kitchen** (náº¿u cÃ³ role Kitchen)
- âœ… Xem bÃ¡o cÃ¡o tá»•ng há»£p (doanh thu, lá»£i nhuáº­n, KPI)
- âœ… Xem bÃ¡o cÃ¡o ca lÃ m viá»‡c
- âœ… Quáº£n lÃ½ menu (thÃªm/sá»­a/xÃ³a mÃ³n, danh má»¥c, topping)
- âœ… Quáº£n lÃ½ kho (nháº­p/xuáº¥t, kiá»ƒm kÃª)
- âœ… Quáº£n lÃ½ nhÃ¢n viÃªn (thÃªm/sá»­a/xÃ³a, gÃ¡n roles)
- âœ… Quáº£n lÃ½ khu vá»±c & bÃ n
- âœ… Quáº£n lÃ½ khuyáº¿n mÃ£i
- âœ… **Há»§y Ä‘Æ¡n** (náº¿u cáº§n)
- âœ… Xem táº¥t cáº£ hÃ³a Ä‘Æ¡n
- âœ… In bÃ¡o cÃ¡o

#### **âŒ Chá»©c nÄƒng KHÃ”NG thá»ƒ lÃ m:**
- âŒ Quáº£n lÃ½ há»‡ thá»‘ng (chá»‰ Admin)
- âŒ XÃ³a dá»¯ liá»‡u quan trá»ng (chá»‰ Admin)

#### **ğŸ“ ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - PhÃ¹ há»£p vá»›i vai trÃ² quáº£n lÃ½
- âœ… ToÃ n quyá»n quáº£n lÃ½ hoáº¡t Ä‘á»™ng hÃ ng ngÃ y
- âœ… CÃ³ thá»ƒ lÃ m má»i viá»‡c trá»« quáº£n lÃ½ há»‡ thá»‘ng

---

### **5. ADMIN (Quáº£n trá»‹ viÃªn)**

#### **âœ… Quyá»n truy cáº­p:**
- âœ… **Táº¥t cáº£ cÃ¡c trang** (khÃ´ng giá»›i háº¡n)

#### **âœ… Chá»©c nÄƒng cÃ³ thá»ƒ lÃ m:**
- âœ… **Táº¥t cáº£ chá»©c nÄƒng cá»§a Manager**
- âœ… **Táº¥t cáº£ chá»©c nÄƒng cá»§a Cashier**
- âœ… **Táº¥t cáº£ chá»©c nÄƒng cá»§a Kitchen**
- âœ… Quáº£n lÃ½ há»‡ thá»‘ng
- âœ… XÃ³a dá»¯ liá»‡u (náº¿u cáº§n)
- âœ… Cáº¥u hÃ¬nh há»‡ thá»‘ng

#### **ğŸ“ ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - PhÃ¹ há»£p vá»›i vai trÃ² quáº£n trá»‹ viÃªn
- âœ… ToÃ n quyá»n, khÃ´ng giá»›i háº¡n

---

## âš ï¸ Váº¥n Ä‘á» vÃ  Äá» xuáº¥t

### **1. WAITER khÃ´ng thá»ƒ xem Ä‘Æ¡n trong ca**

**Váº¥n Ä‘á»:**
- Waiter táº¡o Ä‘Æ¡n nhÆ°ng khÃ´ng thá»ƒ xem danh sÃ¡ch Ä‘Æ¡n trong ca
- Chá»‰ Cashier/Manager má»›i xem Ä‘Æ°á»£c "ÄÆ¡n hÃ ng trong ca"

**Äá» xuáº¥t:**
- âœ… Cho Waiter xem Ä‘Æ¡n trong ca (chá»‰ xem, khÃ´ng thanh toÃ¡n)
- Hoáº·c: Waiter chá»‰ cáº§n xem Ä‘Æ¡n mÃ¬nh táº¡o (cÃ³ thá»ƒ thÃªm filter)

**File cáº§n cáº­p nháº­t:**
- `frontend/src/pages/Dashboard.jsx` - `canViewCurrentShiftOrders`

---

### **2. WAITER khÃ´ng thá»ƒ xem Takeaway Orders**

**Váº¥n Ä‘á»:**
- Waiter cÃ³ thá»ƒ táº¡o Ä‘Æ¡n TAKEAWAY nhÆ°ng khÃ´ng thá»ƒ xem danh sÃ¡ch Ä‘Æ¡n TAKEAWAY
- `/takeaway` chá»‰ cho phÃ©p Cashier/Manager/Admin

**Äá» xuáº¥t:**
- âš ï¸ **CÃ³ thá»ƒ khÃ´ng cáº§n** - Waiter chá»‰ cáº§n táº¡o Ä‘Æ¡n, Cashier quáº£n lÃ½
- Hoáº·c: Cho Waiter xem Ä‘Æ¡n TAKEAWAY (chá»‰ xem, khÃ´ng phÃ¢n cÃ´ng giao hÃ ng)

---

### **3. CASHIER cÃ³ thá»ƒ táº¡o Ä‘Æ¡n DELIVERY**

**Váº¥n Ä‘á»:**
- Cashier cÃ³ thá»ƒ táº¡o Ä‘Æ¡n DELIVERY tá»« `/takeaway`
- NhÆ°ng Ä‘Æ¡n DELIVERY thÆ°á»ng Ä‘Æ°á»£c táº¡o tá»« Customer Portal

**ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - Cashier cÃ³ thá»ƒ nháº­n order qua Ä‘iá»‡n thoáº¡i vÃ  táº¡o Ä‘Æ¡n DELIVERY
- KhÃ´ng cáº§n thay Ä‘á»•i

---

### **4. MANAGER cÃ³ thá»ƒ cÃ³ nhiá»u role**

**Váº¥n Ä‘á»:**
- Manager cÃ³ thá»ƒ cÃ³ cáº£ role Cashier vÃ  Kitchen
- Äiá»u nÃ y cÃ³ há»£p lÃ½ khÃ´ng?

**ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - Manager cÃ³ thá»ƒ lÃ m nhiá»u viá»‡c khi cáº§n
- Manager cÃ³ thá»ƒ:
  - CÃ³ role Cashier â†’ CÃ³ thá»ƒ bÃ¡n hÃ ng, thanh toÃ¡n
  - CÃ³ role Kitchen â†’ CÃ³ thá»ƒ xem KDS
  - KhÃ´ng cÃ³ role Cashier â†’ Chá»‰ xem bÃ¡o cÃ¡o (view only)

---

### **5. KITCHEN khÃ´ng thá»ƒ xem thÃ´ng tin Ä‘Æ¡n**

**Váº¥n Ä‘á»:**
- Kitchen chá»‰ tháº¥y mÃ³n cáº§n lÃ m, khÃ´ng tháº¥y thÃ´ng tin Ä‘Æ¡n (bÃ n, khÃ¡ch hÃ ng)
- CÃ³ thá»ƒ cáº§n thÃ´ng tin Ä‘á»ƒ Æ°u tiÃªn lÃ m mÃ³n

**ÄÃ¡nh giÃ¡:**
- âœ… **Há»¢P LÃ** - Kitchen chá»‰ cáº§n biáº¿t mÃ³n nÃ o cáº§n lÃ m
- ThÃ´ng tin chi tiáº¿t cÃ³ thá»ƒ xem trong KDS (Ä‘Ã£ cÃ³ bÃ n, khu vá»±c)

---

## ğŸ“‹ Tá»•ng há»£p Ä‘Ã¡nh giÃ¡

### **âœ… Há»¢P LÃ:**

1. **WAITER:**
   - âœ… CÃ³ thá»ƒ táº¡o Ä‘Æ¡n (DINE_IN, TAKEAWAY)
   - âœ… KhÃ´ng thá»ƒ thanh toÃ¡n (Ä‘Ãºng)
   - âœ… KhÃ´ng thá»ƒ há»§y Ä‘Æ¡n (Ä‘Ãºng)
   - âœ… CÃ³ thá»ƒ giao hÃ ng (Ä‘Ãºng)

2. **CASHIER:**
   - âœ… CÃ³ thá»ƒ táº¡o Ä‘Æ¡n vÃ  thanh toÃ¡n (Ä‘Ãºng)
   - âœ… CÃ³ thá»ƒ quáº£n lÃ½ Ä‘Æ¡n mang Ä‘i vÃ  giao hÃ ng (Ä‘Ãºng)
   - âœ… KhÃ´ng thá»ƒ quáº£n lÃ½ menu/inventory (Ä‘Ãºng)

3. **KITCHEN:**
   - âœ… Chá»‰ xem vÃ  cáº­p nháº­t tráº¡ng thÃ¡i mÃ³n (Ä‘Ãºng)
   - âœ… KhÃ´ng bá»‹ phÃ¢n tÃ¢m bá»Ÿi cÃ¡c chá»©c nÄƒng khÃ¡c (Ä‘Ãºng)

4. **MANAGER:**
   - âœ… ToÃ n quyá»n quáº£n lÃ½ (Ä‘Ãºng)
   - âœ… CÃ³ thá»ƒ cÃ³ nhiá»u role (linh hoáº¡t)

5. **ADMIN:**
   - âœ… ToÃ n quyá»n (Ä‘Ãºng)

---

### **âœ… ÄÃƒ Cáº¢I THIá»†N:**

1. **âœ… WAITER cÃ³ thá»ƒ xem Ä‘Æ¡n trong ca:**
   - ÄÃ£ cáº­p nháº­t: Waiter cÃ³ thá»ƒ xem Ä‘Æ¡n trong ca (chá»‰ xem, khÃ´ng thanh toÃ¡n)
   - File: `frontend/src/pages/Dashboard.jsx` - `canViewCurrentShiftOrders`

2. **âœ… WAITER cÃ³ thá»ƒ xem Ä‘Æ¡n TAKEAWAY:**
   - ÄÃ£ cáº­p nháº­t: Waiter cÃ³ thá»ƒ xem Ä‘Æ¡n TAKEAWAY (chá»‰ xem, khÃ´ng phÃ¢n cÃ´ng giao hÃ ng)
   - File: `frontend/src/pages/TakeawayOrders.jsx` - ThÃªm `isWaiter` check

---

## ğŸ¯ Káº¿t luáº­n

### **âœ… Tá»•ng thá»ƒ: Há»¢P LÃ (8/10)**

**Æ¯u Ä‘iá»ƒm:**
- âœ… PhÃ¢n quyá»n rÃµ rÃ ng
- âœ… PhÃ¹ há»£p vá»›i vai trÃ² thá»±c táº¿
- âœ… Báº£o máº­t tá»‘t (khÃ´ng cÃ³ quyá»n thá»«a)
- âœ… Linh hoáº¡t (Manager cÃ³ thá»ƒ cÃ³ nhiá»u role)

**ÄÃ£ cáº£i thiá»‡n:**
- âœ… Waiter cÃ³ thá»ƒ xem Ä‘Æ¡n trong ca (chá»‰ xem)
- âœ… Waiter cÃ³ thá»ƒ xem Ä‘Æ¡n TAKEAWAY (chá»‰ xem, khÃ´ng phÃ¢n cÃ´ng)

**Káº¿t quáº£:**
- âœ… PhÃ¢n quyá»n hoÃ n chá»‰nh vÃ  há»£p lÃ½
- âœ… Waiter cÃ³ Ä‘á»§ thÃ´ng tin Ä‘á»ƒ lÃ m viá»‡c
- âœ… Váº«n giá»¯ nguyÃªn báº£o máº­t (khÃ´ng cÃ³ quyá»n thá»«a)

